@import '../../../shared/sass/variables';
@import '../../../shared/sass/mixins';

.wp-block-columns {
	--wp--style--block-gap: 8px;

	&.is-not-stack-on-mobile {
		margin-left: -16px;
		max-width: calc( 100% + 32px );
		width: calc( 100% + 32px );
	}

	@include media( mobile ) {
		flex-wrap: nowrap;
		margin-left: -16px;
		max-width: calc( 100% + 32px );
		width: calc( 100% + 32px );

		.wp-block-column {
			margin-bottom: 0;
			margin-left: 16px;
			margin-right: 16px;
		}

		&.is-style-first-col-to-second .wp-block-column:nth-child( 2 ) {
			order: -1;
		}

		&.is-style-first-col-to-third .wp-block-column:nth-child( 2 ),
		&.is-style-first-col-to-third .wp-block-column:nth-child( 3 ) {
			order: -1;
		}
	}

	&.is-style-borders {
		> .wp-block-column {
			position: relative;
			margin-bottom: 64px;

			&:last-child {
				margin-bottom: 0;
			}

			&::after {
				border: 0 solid $color__border;
				border-top-width: 1px;
				bottom: -32px;
				content: '';
				left: 0;
				position: absolute;
				right: 0;
			}

			&:last-child::after {
				display: none;
			}

			@include media( mobile ) {
				margin-bottom: 0;

				&::after {
					border-right-width: 1px;
					border-top-width: 0;
					bottom: 0;
					left: auto;
					right: -16px;
					top: 0;
				}
			}
		}
	}

	&.is-not-stacked-on-mobile {
		> .wp-block-column:not( :first-child ),
		> .wp-block-column {
			margin-left: 16px;
			margin-right: 16px;
		}

		&.is-style-borders > .wp-block-column {
			margin-bottom: 0;

			&::after {
				border-right-width: 1px;
				border-top-width: 0;
				bottom: 0;
				left: auto;
				right: -16px;
				top: 0;
			}
		}
	}

	&:not( .is-not-stacked-on-mobile ) {
		@include media( mobile ) {
			> .wp-block-column:not( :first-child ),
			> .wp-block-column:nth-child( 2n ) {
				margin-left: 16px;
				margin-right: 16px;
			}
		}
	}
}
